var BUSINESS=function($,e,s,t){var i,n={},a="#wf-form-Update-Active-Businesses-Form";return n.businessLimit={"pln_credit-package-1-p63bl01ya":1,"pln_credit-package-2-pg3bd0zgw":1,"pln_credit-package-3-la3be0z5o":1,"pln_subscription-package-1-p73bj0zxa":1,"pln_subscription-package-2-il3bk0zto":3,"pln_subscription-package-3-9x3bl0z6j":5},n.checkBusinessLimits=function(e,s){var t=USER.getMemberPlans(!1,!1,!0),n=BUSINESS.businessLimit;return i=1,s&&(e=HELP.filterArrayByObjectValue(e,"state","active")),$.each(t,(function(e,s){n[s.planId]>i&&(i=n[s.planId])})),e.length-i},n.updateActiveBusinesses=function(e){var s=HELP.pluralize(i,"business","businesses"),t=$(a),n=t.find(".js-business");t.find(".js-num-businesses").text(s),$(".form-job-step-2, #business-form-wrapper").remove(),n.hide(),$.each(e,(function(e,s){var i=n.clone().show(),a=s.registeredName?` (${s.registeredName})`:"";$(".js-business-name",i).text(`${s.tradingName}${a}`),$('[type="checkbox"]',i).attr("name","company[]").val(s.itemId),t.find(".checkbox-list").append(i)})),MAIN.openLitbox({title:"Update active businesses",href:"#update-businesses-form-wrapper",css:{xxs:{maxWidth:700}}})},n.formValidateActiveBusinesses=function(){var e=$(a),s=HELP.pluralize(i,"business","businesses"),t=e.find('[type="checkbox"]:checked');return!(t.length<1||t.length>i)||(alert(`Please${t.length>i?" only":""} select ${s} that you want to remain active.`),!1)},n}(jQuery,0,this.document);