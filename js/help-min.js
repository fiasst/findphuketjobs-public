var USER={},MAIN={},ADD_JOB={},HELP=function($,e,t,r){var n={timezone:"Asia/Bangkok",breakpoints:{tabletBP:767,tabletLandscapeBP:991,desktopBP:1247},cleanLowerString:function(e){return $.trim(e.toLowerCase())},stripHTML:function(e){return $("<div/>").html(e).text()},sanitizeHTML:e=>e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/(\s*<[^>]*)(\s+(on\w+|onclick)="[^"]*")/gi,"$1").replace(/javascript:/gi,""),getEnvType:function(){return location.hostname.indexOf("webflow")>-1?"dev":"live"},getCurrentDomain:function(){return e.location.origin},getCurrentLang:function(){return n.checkKeyExists(e,"Weglot")?Weglot.getCurrentLang():"en"},formatCurrency:function(e){return parseFloat(e,10).toFixed(2).toString()},getCurrencySymbol:(e,t)=>(0).toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim(),getSetQuerystring:(t="",r)=>{const i=new URL(e.location.href);return"object"==typeof t?($.each(t,(function(e,t){i.searchParams.set(n.stripHTML(e),n.stripHTML(t))})),r?i.pathname+i.search:i.search):n.stripHTML(i.searchParams.get(t))},formatTimestamp:function(e,t,r){var i=new Date(e),a=n.getCurrentLang(),o={year:"numeric",month:"long",day:"numeric"};return r&&(o.timeZone=n.timezone),t&&$.extend(o,{hour12:!1,hour:"2-digit",minute:"2-digit"}),"string"==typeof e&&(e=i.getTime()),e.toString().length<11&&i.setTime(1e3*e),i.toLocaleDateString(a,o)},getTimestamp:function(e,t){if(e)return new Date(e).getTime();var r=new Date,i={};return t&&(i.timeZone=n.timezone),r=r.toLocaleString(n.getCurrentLang(),i),new Date(r).getTime()},getISOdate:function(e,t){var r=n.getTimestamp(e,t);return new Date(r).toISOString()},pluralize:(e,t,r)=>`${e} ${1!==e?r||t+"s":t}`,timePast:e=>{const t=6e4,r=36e5,i=24*r,a=7*i,o=30*i,s=365*i;var c=n.getTimestamp(!1,!0)-(e=n.getTimestamp(e));return c<t?n.pluralize(Math.round(c/1e3),"second"):c<r?(c=Math.round(c/t),n.pluralize(c,"minute")):c<i?(c=Math.round(c/r),n.pluralize(c,"hour")):c<o?(c=Math.round(c/i),n.pluralize(c,"day")):c<a?(c=Math.round(c/a),n.pluralize(c,"week")):c<s?(c=Math.round(c/o),n.pluralize(c,"month")):(c=Math.round(c/s),n.pluralize(c,"year"))},checkKeyExists:function(e,t){return!!e&&(0===(t="string"==typeof t?t.split("."):t).length||n.checkKeyExists(e[t.shift()],t))},callNestedFunction:function(t,...r){for(var n=t.split("."),i=n.pop(),a=e,o=0;o<n.length;o++)a=a[n[o]];"function"==typeof a[i]?a[i](...r):console.error("Function not found:",t)},waitFor:function(e,t,r,i){var a=setInterval((function(){n.checkKeyExists(e,t)&&(i(),clearInterval(a))}),r)},hasPermissions:function(e,t){return $.inArray(e,t.permissions)>-1},getFormValues:function(e,t){var r=new FormData(e[0]);return $.each(r.entries(),(function(t,n){var i=$(e).find(':input[name="'+t+'"]');i.is("select[multiple]")&&r.set(t,i.val())})),r.append("member_id",USER.current.id||null),r.append("env",n.getEnvType()),r.append("url",n.getCurrentDomain()),r.append("submitted",n.getISOdate()),r.append("submittedTimestamp",n.getTimestamp()),console.log("formData",r),"formData"==t?r:"json"==t?JSON.stringify(Object.fromEntries(r)):Object.fromEntries(r)},sendAJAX:function(t,r){params=$.extend({method:"POST",timeout:6e4,success:function(e,t){console.log(t,e),"function"==typeof params.callbackSuccess&&params.callbackSuccess(e)},error:function(t,i,a){console.log(i,a),"function"==typeof params.callbackError&&params.callbackError(i,a);var o={mode:"dialog",message:"Sorry, something went wrong, please try again. if the problem continues, contact our team for help.",type:"error",enableForm:!0,options:{title:"There was a problem...",overlayClose:!1,actions:[{type:"button",text:"OK",attributes:{class:"button-primary trigger-lbox-close",href:"#"}}]}};n.checkKeyExists(e.jQuery,"litbox")?MAIN.handleAjaxResponse(o,r||!1):alert(o.message)}},t),$.ajax(params)},parseIfStringJSON:function(e){return"string"==typeof e&&"{"==(e=e.trim())[0]&&"}"==e[e.length-1]?JSON.parse(e):e},formatDDMMYYYY:(e,t=" / ")=>{var r=e.replace(/[^\d]/g,""),n="",i=r.slice(0,2),a=r.slice(2,4),o=r.slice(4,8);return i&&(n+=i,2===i.length&&(n+=t)),a&&(n+=a,2===a.length&&(n+=t)),o&&(n+=o),n},setCookie:function(e,r,n){var i="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i="; expires="+a.toUTCString()}t.cookie=e+"="+(r||"")+i+"; path=/"},getCookie:function(e){for(var r=e+"=",i=t.cookie.split(";"),a=0;a<i.length;a++){var o=i[a].trim();if(0===o.indexOf(r))return n.parseIfStringJSON(o.substring(r.length))}return null},deleteCookie:function(e){t.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"}};return n}(jQuery,this,this.document);