var USER={},MAIN={},ADD_JOB={},HELP=function($,e,t,n){var r={timezone:"Asia/Bangkok",breakpoints:{tabletBP:767,tabletLandscapeBP:991,desktopBP:1247},cleanLowerString:function(e){return $.trim(e.toLowerCase())},stripHTML:function(e){return $("<div/>").html(e).text()},sanitizeHTML:e=>e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/(\s*<[^>]*)(\s+(on\w+|onclick)="[^"]*")/gi,"$1").replace(/javascript:/gi,""),getEnvType:function(){return location.hostname.indexOf("webflow")>-1?"dev":"live"},getCurrentDomain:function(){return e.location.origin},getCurrentLang:function(){return r.checkKeyExists(e,"Weglot")?Weglot.getCurrentLang():"en"},formatCurrency:function(e){return parseFloat(e,10).toFixed(2).toString()},getCurrencySymbol:(e,t)=>(0).toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim(),getSetQuerystring:(t="",n)=>{const i=new URL(e.location.href);return"object"==typeof t?($.each(t,(function(e,t){i.searchParams.set(r.stripHTML(e),r.stripHTML(t))})),n?i.pathname+i.search:i.search):r.stripHTML(i.searchParams.get(t))},formatTimestamp:function(e,t,n){var i=new Date(e),a=r.getCurrentLang(),o={year:"numeric",month:"long",day:"numeric"};return n&&(o.timeZone=r.timezone),t&&$.extend(o,{hour12:!1,hour:"2-digit",minute:"2-digit"}),"string"==typeof e&&(e=i.getTime()),e.toString().length<11&&i.setTime(1e3*e),i.toLocaleDateString(a,o)},getTimestamp:function(e,t){if(e)return new Date(e).getTime();var n=new Date,i={};return t&&(i.timeZone=r.timezone),n=n.toLocaleString(r.getCurrentLang(),i),new Date(n).getTime()},getISOdate:function(e,t){var n=r.getTimestamp(e,t);return new Date(n).toISOString()},pluralize:(e,t,n)=>`${e} ${1!==e?n||t+"s":t}`,timePast:e=>{const t=6e4,n=36e5,i=24*n,a=7*i,o=30*i,s=365*i;var c=r.getTimestamp(!1,!0)-(e=r.getTimestamp(e));return c<t?r.pluralize(Math.round(c/1e3),"second"):c<n?(c=Math.round(c/t),r.pluralize(c,"minute")):c<i?(c=Math.round(c/n),r.pluralize(c,"hour")):c<o?(c=Math.round(c/i),r.pluralize(c,"day")):c<a?(c=Math.round(c/a),r.pluralize(c,"week")):c<s?(c=Math.round(c/o),r.pluralize(c,"month")):(c=Math.round(c/s),r.pluralize(c,"year"))},checkKeyExists:function(e,t){return!!e&&(0===(t="string"==typeof t?t.split("."):t).length||r.checkKeyExists(e[t.shift()],t))},callNestedFunction:function(t,...n){for(var r=t.split("."),i=r.pop(),a=e,o=0;o<r.length;o++)a=a[r[o]];"function"==typeof a[i]?a[i](...n):console.error("Function not found:",t)},waitFor:function(e,t,n,i){var a=setInterval((function(){r.checkKeyExists(e,t)&&(i(),clearInterval(a))}),n)},hasPermissions:function(e,t){return $.inArray(e,t.permissions)>-1},getFormValues:function(e,t){var n=new FormData(e[0]),i={};for(elementName in $(e).find(":input").each((function(){var e=$(this),t=e.attr("name"),r=e.val();if(e.is("select[multiple]"))n.set(t,e.val());else if(e.is(":checkbox:checked")&&t.endsWith("[]")){var a=t.slice(0,-2);i[a]||(i[a]=[]),i[a].push(r),n.delete(t)}})),i)n.set(elementName,i[elementName]);return n.append("member_id",USER.current.id||null),n.append("env",r.getEnvType()),n.append("url",r.getCurrentDomain()),n.append("submitted",r.getISOdate()),n.append("submittedTimestamp",r.getTimestamp()),console.log("formData",n),"formData"==t?n:"json"==t?JSON.stringify(Object.fromEntries(n)):Object.fromEntries(n)},sendAJAX:function(t,n){params=$.extend({method:"POST",timeout:6e4,success:function(e,t){console.log(t,e),"function"==typeof params.callbackSuccess&&params.callbackSuccess(e)},error:function(t,i,a){console.log(i,a),"function"==typeof params.callbackError&&params.callbackError(i,a);var o={mode:"dialog",message:"Sorry, something went wrong, please try again. if the problem continues, contact our team for help.",type:"error",enableForm:!0,options:{title:"There was a problem...",overlayClose:!1,actions:[{type:"button",text:"OK",attributes:{class:"button-primary trigger-lbox-close",href:"#"}}]}};r.checkKeyExists(e.jQuery,"litbox")?MAIN.handleAjaxResponse(o,n||!1):alert(o.message)}},t),$.ajax(params)},parseIfStringJSON:function(e){return"string"==typeof e&&"{"==(e=e.trim())[0]&&"}"==e[e.length-1]?JSON.parse(e):e},formatDDMMYYYY:(e,t=" / ")=>{var n=e.replace(/[^\d]/g,""),r="",i=n.slice(0,2),a=n.slice(2,4),o=n.slice(4,8);return i&&(r+=i,2===i.length&&(r+=t)),a&&(r+=a,2===a.length&&(r+=t)),o&&(r+=o),r},setCookie:function(e,n,r){var i="";if(r){var a=new Date;a.setTime(a.getTime()+24*r*60*60*1e3),i="; expires="+a.toUTCString()}t.cookie=e+"="+(n||"")+i+"; path=/"},getCookie:function(e){for(var n=e+"=",i=t.cookie.split(";"),a=0;a<i.length;a++){var o=i[a].trim();if(0===o.indexOf(n))return r.parseIfStringJSON(o.substring(n.length))}return null},deleteCookie:function(e){t.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"}};return r}(jQuery,this,this.document);