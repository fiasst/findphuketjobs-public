var BUSINESS=function(e,s,t,i){var n,a={},r="#wf-form-Update-Active-Businesses-Form";return a.membersBusinessLimit=6,a.checkBusinessLimits=function(e,s){USER.getMemberPlans(!1,!1,!0);return n=a.membersBusinessLimit,s&&(e=HELP.filterArrayByObjectValue(e,"state","active")),e.length-n},a.updateActiveBusinesses=function(s){var t=HELP.pluralize(n,"business","businesses"),i=e(r),a=i.find(".js-business");i.find(".js-num-businesses").text(t),e(".form-job-step-2, #business-form-wrapper").remove(),a.hide(),e.each(s,(function(s,t){var n=a.clone().show(),r=t.registeredName?` (${t.registeredName})`:"";e(".js-business-name",n).text(`${t.tradingName}${r}`),e('[type="checkbox"]',n).attr("name","businesses[]").val(t.itemId),i.find(".checkbox-list").append(n)})),MAIN.openLitbox({title:"Update active businesses",href:"#update-businesses-form-wrapper",css:{xxs:{maxWidth:700}}})},a.maxBusinessesReached=function(){e("#business-form-wrapper").remove(),MAIN.dialog({message:"[p]You have reached the maximum number of businesses allowed per account. If you need to increase this limit, please contact us.[/p]",type:"success",mode:"dialog",options:{title:"Business limit reached",actions:[{type:"button",text:"OK",attributes:{class:"button-primary trigger-lbox-close",href:"#"}}]}})},a.formValidateActiveBusinesses=function(){var s=e(r),t=HELP.pluralize(n,"business","businesses"),i=s.find('[type="checkbox"]:checked');return!(i.length<1||i.length>n)||(alert(`Please${i.length>n?" only":""} select ${t} that you want to remain active.`),!1)},a}(jQuery,0,this.document);