var USER={},MAIN={},ADD_JOB={},HELP=function(e,t,r,n){var i={breakpoints:{mobile:479,mobileWide:767,tablet:991,desktop:1439}};return i.timezone="Asia/Bangkok",i.cleanLowerString=(t="")=>e.trim(t.toLowerCase()),i.zeroTrim=(e="")=>e.replace(/&zwj;/gi,"").replace("<p><br></p>","").trim(),i.removeNonNumeric=(e="")=>e.toString().replace(/\D/g,""),i.getKey=e=>e.key?e.key:String.fromCharCode(e.which||e.keyCode),i.allowCommonKeyPress=(e,t)=>{if(!t)return!1;return["Backspace","Delete","Tab"].indexOf(t)>-1||0===t.indexOf("Arrow")||(e.metaKey||e.ctrlKey)&&["c","v","a","x"].indexOf(t)>-1},i.addHttpProtocol=(e="",t="http://")=>/^https?:\/\//i.test(e)?e:t+e.replace(/^.*?\/\/|^.+?\//,""),i.sanitizeHTML=(e,t,r=!0)=>{if(!e)return;const n={"&":"&amp;","<":"&lt;",">":"&gt;"};if(t){var i=new RegExp(`<((?!/?(${t})\\b)[^>]+)>`,"gi");e=e.replace(i,"").replace(/src/gi,"")}else r&&(e=e.replace(/[<>]|&(?!(?:apos|quot|[gl]t|amp);)/gi,(e=>n[e]))),e=e.replace(/(\x3c:?|\u003c:?)|(?:&(amp;)?#0*60;?|&(amp;)?#x0*3c;?):?/gi,"");return e=e.toString().replace(/<.*?script.*?>|.constructor|document.cookie|document.domain/gi,"").replace(/<[^>]*\s+[^>]*on\w+[^>]*>/gi,"").replace(/javascript.*?:|script.*?:|&{/gi,"").replace(/&#0*115;?|&#0*99;?|&#0*114;?|&#0*105;?|&#0*112;?|&#0*116;?|&#0*58;?/g,"").replace(/&#x0*73;?|&#x0*63;?|&#x0*72;?|&#x0*69;?|&#x0*70;?|&#x0*74;?|&#x0*3A;?/gi,"")},i.sanitizeAttrs=(e={})=>{const t=["id","class","href","data-ms-action"];for(var r in e)t.includes(r)||delete e[r];return e},i.tokenHTML=e=>{if(e)return(e=i.sanitizeHTML(e)).replace(/\[(\/?(?:p|strong|em|a|div|h[1-6]|span)(?:\s+[^[\]]+)?)]/gi,((e,t)=>{var r=(t=t.toLowerCase()).startsWith("/")?`</${t.slice(1)}`:"<"+t;return r.endsWith("]")?r.slice(0,-1)+">":r+">"})).replace(/on\w{2,}=/gi,"")},i.stripHTML=function(e){if(e)return e.replace(/<\s*\/?\s*([a-zA-Z0-9]+)\s*>/g,"").replace(/<[^>]*>/g,"")},i.stripHTMLWithLinebreaks=function(t){return t=(t=t.replace(/<br\s*\/?>/gi,"\n")).replace(/<(?:div|p|blockquote|h[1-6]|table|ul|ol)[^>]*>/gi,"\n"),e("<div>").html(t).text().trim()},i.getEnvType=function(){return location.hostname.indexOf("webflow")>-1?"test":"live"},i.getCurrentDomain=function(){return t.location.origin},i.formatCurrency=function(e){return parseFloat(e,10).toFixed(2).toString()},i.getCurrencySymbol=(e,t)=>(0).toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim(),i.getSetQuerystring=(e="",r="relative",n=t.location.href)=>{n=n.indexOf("://")<0?t.location.origin+n:n;let o=new URL(n);if("object"==typeof e){for(let[t,r]of Object.entries(e)){let e=i.sanitizeHTML(t),n=i.sanitizeHTML(r);o.searchParams.append(e,n)}switch(r){case"absolute":return o.origin+o.pathname+o.search;case"relative":return o.pathname+o.search;case"query":return o.search}}return i.sanitizeHTML(o.searchParams.get(e.toString()))},i.formatTimestamp=function(t,r,n){if(t){var o=new Date(t),a=LANG.currentLang(),s={year:"numeric",month:"long",day:"numeric"};return n&&(s.timeZone=i.timezone),r&&e.extend(s,{hour12:!1,hour:"2-digit",minute:"2-digit"}),"string"==typeof t&&(t=o.getTime()),t.toString().length<11&&o.setTime(1e3*t),o.toLocaleDateString(a,s)}},i.getTimestamp=(t,r,n)=>{let o=new Date,a=r?LANG.currentLang():LANG.defaultLang,s={};if(r&&(s.timeZone=i.timezone),t){let e=t.lastIndexOf(" "),r=t.substring(0,e),i=t.substring(e+1),c=r.replace(/[-\/\s]/g,"||").split("||"),l=n?0:1;o.setMonth(c[l]-1),s.month="short",c[l]=o.toLocaleString(a,s),t=c.join(" ")+` ${i} GMT`}else t=(new Date).toLocaleString("en"),console.log(1,t);e.extend(s,{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});let c=r?0:60*o.getTimezoneOffset()*1e3;console.log(2,c),o=new Date(Date.parse(t)+c).toLocaleString(a,s),console.log(3,o);var l=Date.parse(o);return console.log(4,l),l},i.getISOdate=(e,t)=>{var r=i.getTimestamp(e,t);console.log(5,r);var n=new Date(r).toISOString();return console.log(6,n),n},i.pluralize=(e,t,r)=>`${e} ${1!==e?r||t+"s":t}`,i.timePast=(e,t="ago")=>{const r=6e4,n=36e5,o=24*n,a=7*o,s=30*o,c=365*o;var l,u=i.getTimestamp(!1,!0)-(e=i.getTimestamp(e,!1,!0));if((l=u<r?{elapsed:0,string:"minutes"}:u<n?{elapsed:Math.round(u/r),string:"minute"}:u<o?{elapsed:Math.round(u/n),string:"hour"}:u<s?{elapsed:Math.round(u/o),string:"day"}:u<a?{elapsed:Math.round(u/a),string:"week"}:u<c?{elapsed:Math.round(u/s),string:"month"}:{elapsed:Math.round(u/c),string:"year"}).elapsed){return`${i.pluralize(l.elapsed,l.string)} ${t}`}return""},i.checkKeyExists=function(e,t){return!!e&&(0===(t="string"==typeof t?t.split("."):t).length||i.checkKeyExists(e[t.shift()],t))},i.getProperty=function(e,t){let r=t.split("."),n=e;for(let e=0;e<r.length;e++)if(n=n[r[e]],null==n)return null;return n},i.callNestedFunction=function(e,...r){var n=e.split("."),o=n.pop(),a=i.getProperty(t,n.join("."));if(a&&"function"==typeof a[o])return a[o](...r);console.error("Function not found:",e)},i.waitFor=function(e,t,r,n){var o=setInterval((function(){i.checkKeyExists(e,t)&&(n(),clearInterval(o))}),r)},i.filterArrayByObjectValue=function(t,r,n){return Array.isArray(n)?e.map(t,(function(e,t){return n.includes(e[r])?e:null})):e.map(t,(function(e,t){return e[r]==n?e:null}))},i.sortArrayByObjectValue=function(e,t,r,n="desc"){return e.sort(((e,o)=>(e=i.getProperty(e,t),o=i.getProperty(o,t),r?"desc"===n?(o===r)-(e===r):(e===r)-(o===r):function(e,t,r){return null===e?"desc"===r?1:-1:null===t?"desc"===r?-1:1:"desc"===r?t-e:e-t}(e,o,n))))},i.hasPermissions=function(t,r){var n=0===t.indexOf("!"),i=t.replace("!",""),o=e.inArray(i,r.permissions);return n?o<0:o>-1},i.ajaxMetaValues=function(t,r){var n={};return n.member_id=USER.current.id||null,n.env=i.getEnvType(),n.url=i.getCurrentDomain(),n.language=LANG.currentLang(),n.submitted=i.getISOdate(),n.submittedTimestamp=i.getTimestamp(),"formData"!=r?n:e.each(n,(function(e,r){t.set(e,r)}))},i.getFormValues=function(t,r){var n=new FormData(t[0]),o={};for(elementName in e(t).find(":input").each((function(){var t=e(this),r=t.attr("name"),i=t.val();if(t.is("select[multiple]"))n.set(r,i);else if(t.is(":checkbox:checked")&&r.endsWith("[]")){var a=r.slice(0,-2);o[a]||(o[a]=[]),o[a].push(i),n.delete(r)}})),o)n.set(elementName,o[elementName]);return i.ajaxMetaValues(n,"formData"),console.log(Object.fromEntries(n)),"formData"==r?n:"json"==r?JSON.stringify(Object.fromEntries(n)):Object.fromEntries(n)},i.sendAJAX=function(r,n){var o=e.extend({method:"POST",timeout:6e4,success:function(e,t){console.log(t,e),"function"==typeof o.callbackSuccess&&o.callbackSuccess(e)},error:function(e,r,a){console.log(r,a),"function"==typeof o.callbackError&&o.callbackError(r,a);var s={mode:"dialog",message:"[p]Sorry, something went wrong, please try again. if the problem continues, contact our team for help.[/p]",type:"error",enableForm:!0,options:{title:"There was a problem...",overlayClose:!1,actions:[{type:"button",text:"OK",attributes:{class:"button-primary trigger-lbox-close",href:"#"}}]}};i.checkKeyExists(t.jQuery,"litbox")?MAIN.handleAjaxResponse(s,n||!1):alert(s.message)}},r);e.ajax(o)},i.parseIfStringJSON=function(e){return"string"==typeof e&&"{"==(e=e.trim())[0]&&"}"==e[e.length-1]?JSON.parse(e):e},i.formatDDMMYYYY=(e,t=" / ")=>{var r=e.replace(/[^\d]/g,""),n="",i=r.slice(0,2),o=r.slice(2,4),a=r.slice(4,8);return i&&(n+=i,2===i.length&&(n+=t)),o&&(n+=o,2===o.length&&(n+=t)),a&&(n+=a),n},i.setCookie=function(e,t,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}r.cookie=e+"="+(t||"")+i+"; path=/"},i.getCookie=function(e){for(var t=e+"=",n=r.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(0===a.indexOf(t))return i.parseIfStringJSON(a.substring(t.length))}return null},i.deleteCookie=function(e){r.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/"},i.setLocalStorage=function(e,t){"string"!=typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)},i.getLocalStorage=function(e){return i.parseIfStringJSON(localStorage.getItem(e))},i.deleteLocalStorage=function(e){localStorage.removeItem(e)},i}(jQuery,this,this.document);